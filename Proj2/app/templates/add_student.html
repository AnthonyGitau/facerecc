{% extends "dashboard.html" %}


{% block element %}
<body class="bg-dark">
  <div class="container">

    {% with messages = get_flashed_messages() %}
    <div class="card card-register mx-auto mt-5">
      {% if messages %}
        {% for message in messages %}
          <div class="card text-white bg-primary o-hidden h-100">
            <div class="card-body">
              <div class="mr-5"></div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="#">
              <span class="float-left">{{ message }}</span>
            </a>
          </div>
        {% endfor %}
        {% endif %}
     </div>
     {% endwith %}

     
    <div class="card card-register mx-auto mt-5">
      <div class="card-header">Register a New Student</div>
      <div class="card-body">
        <form method="POST" action="{{ url_for('add_student') }}">
          <div class="form-group">
            <div class="form-row">
              <div class="col-md-6">
                <label for="exampleInputName">First name</label>
                <input class="form-control" name="firstName" type="text" placeholder="Enter first name" required="true">
              </div>
              <div class="col-md-6">
                <label for="exampleInputLastName">Last name</label>
                <input class="form-control" name="lastName" type="text" placeholder="Enter last name" required="true">
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">Email address</label>
            <input class="form-control" name="emailAddress" type="email" aria-describedby="emailHelp" placeholder="Enter email" required="true" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
          </div>

          <button type="submit" class="btn btn-primary btn-block" href="{{ url_for('register') }}">Register</button>
        </form>

      </div>
    </div>
  </div>

{% endblock %}


{% block scripts %}
  <script type="text/javascript">
    $(document).ready(function(){
        $('#trainStudents').click(function(event){
        console.log('Click');
        event.preventDefault();
        $.ajax({
          url: '/train',
          success: function(data) {
            console.log('Successfully started training')
          },
          error: function(error) {
            console.log('Error training the student.')
          }
        });
      });
    })
  </script>
{% endblock %}